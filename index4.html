<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖拽  专 - 专 转拽转</title>
    <style>
        /* General Body Styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f0f2f5;
            color: #1c1e21;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Main Game Container */
        #game-container {
            background-color: #ffffff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            width: 100%;
            max-width: 800px;
            padding: 35px 40px;
            text-align: center;
            border: 1px solid #dddfe2;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        /* Headers */
        h1 {
            color: #0d1117;
            margin-bottom: 10px;
            font-size: 2rem;
        }

        h2#category-title {
            font-size: 1.3rem;
            color: #0969da;
            margin-bottom: 25px;
            font-weight: 600;
            background-color: #ddf4ff;
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        /* Question Area */
        #question-area {
            min-height: 90px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }

        #question-text {
            font-size: 1.5rem;
            color: #333;
            line-height: 1.6;
            margin: 0;
            font-weight: 500;
        }
        
        /* Answers Container */
        #answers-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .answer-btn {
            background-color: #fff;
            color: #0969da;
            border: 2px solid #0969da;
            padding: 15px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            height: 100%; /* Ensure buttons have same height */
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }
        
        .answer-btn:not(:disabled):hover {
            background-color: #ddf4ff;
            transform: translateY(-2px);
        }

        .answer-btn.correct {
            background-color: #28a745;
            border-color: #28a745;
            color: white;
        }

        .answer-btn.incorrect {
            background-color: #dc3545;
            border-color: #dc3545;
            color: white;
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        /* Feedback Area */
        #feedback-area {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1rem;
            display: none; /* Hidden by default */
            border: 1px solid;
            text-align: right;
        }
        
        #feedback-area.correct-feedback {
            background-color: #e9f7ec;
            border-color: #28a745;
            color: #155724;
        }
        
        #feedback-area.incorrect-feedback {
             background-color: #f8d7da;
             border-color: #dc3545;
             color: #721c24;
        }
        
        #feedback-area strong {
            font-weight: 700;
        }

        /* Next/Restart Buttons */
        .btn {
            background: linear-gradient(135deg, #0969da, #0366d6);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(9, 105, 218, 0.2);
            display: inline-block;
            margin-top: 20px;
        }

        #next-button {
            display: none; /* Hidden until an answer is selected */
        }

        /* Progress Bar */
        #progress-container {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 10px;
            margin-top: 35px;
            overflow: hidden;
        }

        #progress-bar {
            width: 0%;
            height: 12px;
            background: linear-gradient(90deg, #1aaa55, #24b47e);
            border-radius: 10px;
            transition: width 0.5s cubic-bezier(0.25, 1, 0.5, 1);
        }

        #progress-text {
            margin-top: 10px;
            font-size: 1rem;
            color: #6c757d;
            font-weight: 500;
        }

        /* Screens Management */
        .screen {
            display: none;
        }
        #start-screen {
            display: block;
        }
    </style>
</head>
<body>

    <div id="game-container">
        <!-- Start Screen -->
        <div id="start-screen" class="screen">
            <h1> 砖拽  专 (专 转拽转)</h1>
            <p style="margin-bottom: 30px; font-size: 1.1rem; color: #495057;">
               砖转 转 转  注住拽转 驻住转 注拽. 爪!
            </p>
            <button id="start-button" class="btn">转 砖拽</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen">
            <h2 id="category-title"></h2>
            <div id="question-area">
                <p id="question-text"></p>
            </div>
            <div id="answers-container"></div>
            <div id="feedback-area"></div>
            <button id="next-button" class="btn">砖  &larr;</button>
            <div id="progress-container">
                <div id="progress-bar"></div>
            </div>
            <p id="progress-text"></p>
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="screen">
            <h1>  ! 住转 转 .</h1>
            <p style="margin-bottom: 30px; font-size: 1.1rem; color: #495057;">
                注专转 注 砖转 转拽转 转 转 专转 砖 专砖转 转驻拽.
            </p>
            <button id="restart-button" class="btn">砖拽 砖</button>
        </div>
    </div>

    <script>
        const questions = [
            // --- 拽专 1:  爪转 住专 (Trade Spend) ---
            {
                category: " 爪转 住专 (Trade Spend)",
                question: " 住专 拽砖 砖专  注 '转拽爪 专转'.  拽 拽专转 转专 驻 驻拽转 ?",
                answers: [
                    { text: " 砖砖  住专 住  注 拽.", isCorrect: false },
                    { text: "拽 砖转拽爪 转 住 转拽 转 爪注 (POP).", isCorrect: true },
                    { text: "砖 转   转 转 转 驻.", isCorrect: false },
                    { text: "砖专 住 注 砖拽 注转 砖  住专.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 砖专 爪转 住专 (Trade Spend) 住 Off-Invoice  转  转 住注祝 转拽爪 住, 砖  -  砖驻注转  爪注 (Proof of Performance). 住转转 注 专 专 砖驻转 转 专 驻住 住驻."
            },
            {
                category: " 爪转 住专 (Trade Spend)",
                question: " 砖注转 砖 '' (Leakage) 拽砖专 砖 爪转 住专?",
                answers: [
                    { text: "住专 砖驻 砖转.", isCorrect: false },
                    { text: "爪转 住专  拽专转   转注转 砖转 驻住 住驻.", isCorrect: true },
                    { text: "注 砖拽 住专 转.", isCorrect: false },
                    { text: "转 砖拽  注专 爪专.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> ''   拽爪注 驻住 住驻 注  拽 砖 爪转 住专,  砖专  驻,  拽转 POP,  爪注 砖  转 转爪 爪驻."
            },
            {
                category: " 爪转 住专 (Trade Spend)",
                question: "拽 拽砖 驻注 爪注 砖 转 转拽爪 砖转.  转驻拽 转?",
                answers: [
                    { text: "砖专   专爪转 转 拽.", isCorrect: false },
                    { text: "转 转 砖驻注 驻住转 拽  砖 拽专 转拽爪 驻.", isCorrect: true },
                    { text: "住专     转拽爪.", isCorrect: false },
                    { text: "驻转 转 拽砖  住驻 砖专转.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 转驻拽  转 专 拽爪注 砖转 转 砖转.   拽转 转, 爪转 驻转专转 转拽爪 转注 住专 砖  专 转转 拽专转 砖专 专 专."
            },
            {
                category: " 爪转 住专 (Trade Spend)",
                question: "  转  '转拽爪 拽注' '转拽爪 砖转' 住 住专?",
                answers: [
                    { text: "拽注 砖 转转 砖, 砖转 住驻.", isCorrect: false },
                    { text: "拽注  住  (Lump Sum), 砖转   专转.", isCorrect: true },
                    { text: "拽注  驻专住, 砖转  转.", isCorrect: false },
                    { text: "  转, 专拽 砖 砖.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 转拽爪 拽注  住 砖住 专砖 (砖,  祝). 转拽爪 砖转 专 拽祝 驻注转 (砖, 2% 专转 拽爪 驻专住).   拽专转 砖  砖 ."
            },
            // --- 拽专 2: 转  -KPIs ---
            {
                category: "转  -KPIs",
                question: "拽转  注 爪注 转 -Power BI,  转 注 驻砖  转 转 ?",
                answers: [
                    { text: "转 Sell-In:  住专 专 专砖转.", isCorrect: false },
                    { text: "转 Sell-Through:  住专 专砖转 专 爪专.", isCorrect: true },
                    { text: "转  砖砖专 爪 拽 住祝 砖.", isCorrect: false },
                    { text: "转转 专转 拽专转 转 砖.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>  注 爪注  拽 住住 注 转 注 转 专 拽驻转 砖 专砖转 爪专 住驻 (Sell-Through),  注 转 住专 砖专 住驻拽 专砖转 (Sell-In)."
            },
            {
                category: "转  -KPIs",
                question: "注转 转   爪驻 -PBI,  拽转 'Drill-Down'?",
                answers: [
                    { text: "转 专祝 注  住.", isCorrect: false },
                    { text: "专 专爪转 转 转专 砖 转 (砖, 专 专爪转 专转 住祝).", isCorrect: true },
                    { text: "爪 转 拽住.", isCorrect: false },
                    { text: "砖转   住专.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> Drill-Down  转 专转  BI.  驻砖专转 砖转砖 '爪' 注拽 转 拽专 转 专转 驻专 砖转  转专 转 砖专砖 注, 砖, 转 砖住祝 住驻爪驻  专 专 专."
            },
            {
                category: "转  -KPIs",
                question: " KPI  砖 转专 转 驻拽转 砖 爪注 转?",
                answers: [
                    { text: "转 转 砖专 (Sell-In)", isCorrect: false },
                    { text: "专 注 砖拽注 (ROI) 砖 爪注", isCorrect: true },
                    { text: "住驻专 转转 砖转拽 拽", isCorrect: false },
                    { text: "专转 住专转  注专转", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> ROI (Return on Investment)   专.    专 住祝 爪专 转爪 砖拽注 爪注, 注专 专转 专转 砖 转专砖转 ."
            },
            {
                category: "转  -KPIs",
                question: " PBI 转 专 砖爪注 住  注  专转,  专 专转.    爪注?",
                answers: [
                    { text: "砖爪注  爪 住专专转.", isCorrect: false },
                    { text: "砖 砖转 转 注拽  '' 转  专.", isCorrect: true },
                    { text: "砖砖 注转 转 -PBI.", isCorrect: false },
                    { text: "砖拽转   转 爪专.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 注 专 专转    爪. 转    砖 砖驻注 注 专转. 爪注   专转  专 驻住    ."
            },
             // --- 拽专 3:   转拽 ---
            {
                category: "  转拽",
                question: "转  驻 拽 注 转 爪注.  驻注 拽爪注转  转专?",
                answers: [
                    { text: "砖专 专拽   拽转 砖拽  砖 .", isCorrect: false },
                    { text: "住 转 砖 '  转拽祝' (Invalid Deduction) 驻注 专 住驻.", isCorrect: true },
                    { text: "转拽砖专 拽 转 注 注转.", isCorrect: false },
                    { text: "砖专 转 砖    驻注 住 注 拽.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 转 拽爪注   专拽 转 转 ,   转 驻 拽 '  转拽祝'.   转注,  专砖转, 转拽砖专转 注    砖住祝 专 专."
            },
            {
                category: "  转拽",
                question: " ' ' (Aging Report) 拽砖专 砖  ?",
                answers: [
                    { text: " 砖爪 转  注 拽.", isCorrect: false },
                    { text: "  / 驻转 驻 砖  砖 转 驻.", isCorrect: true },
                    { text: " 砖爪 转  爪注 砖 砖.", isCorrect: false },
                    { text: " 砖专 转 拽转 驻 转拽.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>     注 拽专  拽转 .  住注 转注祝 转 驻  砖 砖注 住专转 砖转 注 爪注 注 注转 注拽 转."
            },
            {
                category: "  转拽",
                question: "拽   拽  驻 -爪 转砖 砖. 爪 砖  爪 ?",
                answers: [
                    { text: "拽 转 拽   拽 .", isCorrect: false },
                    { text: " 注拽 爪 专 拽, 专砖 住转转 注, 驻  拽 .", isCorrect: true },
                    { text: "驻住拽 住驻拽  住专.", isCorrect: false },
                    { text: "转注 拽 转 砖爪专.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>  驻专拽拽 驻爪 爪 拽注 . 转驻拽   注 转,   转 驻 驻专拽. 砖 注拽 专  拽, 专砖 , 转   爪拽   拽 专."
            },
            {
                category: "  转拽",
                question: " 住 驻爪 转专 '  转拽驻' (Invalid Deductions)?",
                answers: [
                    { text: "专爪 砖 拽 专 转专 住祝.", isCorrect: false },
                    { text: "注转 砖, 驻转,  - 砖 转 住.", isCorrect: true },
                    { text: " 注专转 砖 拽.", isCorrect: false },
                    { text: "专 砖专 转 拽.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 注 砖拽 拽专 砖 住专 转 , 专  -转拽驻 注 注转 转驻注转, 住专 住专  拽转 爪 拽,  驻专砖转 砖 转 爪注. 砖 爪专 转 拽爪注转 拽专转,  砖."
            },
            // --- 拽专 4: 转 驻住 ---
            {
                category: "转 驻住",
                question: "注 拽转 住驻 爪注转 '驻专砖转' (Accruals) 注专 驻注转 住专 注 驻 拽转  拽?",
                answers: [
                    { text: " 砖 拽 专砖 注 爪注.", isCorrect: false },
                    { text: " 砖拽祝 转 爪 爪驻 转 住驻 砖 转 转拽驻.", isCorrect: true },
                    { text: " 专砖 砖驻转 砖 专砖转 住.", isCorrect: false },
                    { text: " 专 拽转 住专 砖 爪专 住祝 转 .", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 注拽专 专 爪 砖转 拽注 砖砖 专砖 爪 转拽驻 砖  爪专. 驻专砖 (Accrual)  砖转 住驻 砖拽驻 转  转转 砖 专 驻 拽,    驻专 专 注."
            },
            {
                category: "转 驻住",
                question: " 住专 拽砖 砖专  '驻专' 砖   住,  砖专 注 住  注 拽.  专 驻注  转专?",
                answers: [
                    { text: "砖专 ,  砖专 拽  砖 转专.", isCorrect: false },
                    { text: "住专 转 砖注转 住驻转, 转注, 拽砖 砖专 专 转 专 专.", isCorrect: true },
                    { text: "转 转  住 注转 注  住专.", isCorrect: false },
                    { text: "转注 拽砖 拽转 砖 砖 .", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 转驻拽  转 '砖专 住祝' 拽爪注. 转砖 爪 住专转, 转拽砖专转 , 转 转 专 (拽砖转 砖专 专) 转注 砖 注 注 专."
            },
            {
                category: "转 驻住",
                question: " 砖驻注 砖 驻拽转  注  专 驻住 (P&L) 砖 专?",
                answers: [
                    { text: " 砖驻注.", isCorrect: false },
                    { text: " 专砖 爪转 专 拽 转 住 .", isCorrect: true },
                    { text: "  转 .", isCorrect: false },
                    { text: "  转 转专 .", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>  爪 爪转 住专 ( 转 爪注) 专砖  专 驻住 爪  拽转 住,  砖驻注 砖专转 注 砖专转 专 砖 专."
            },
            {
                category: "转 驻住",
                question: "注 砖 驻 专转  驻注  ?",
                answers: [
                    { text: "  专   转.", isCorrect: false },
                    { text: "  驻转 '' 住祝 拽砖 注   砖 转 拽.", isCorrect: true },
                    { text: "   拽砖.", isCorrect: false },
                    { text: "   专  注专转.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>  驻转  住 住祝 砖爪 拽转.  注   驻转专,  驻注 转专 , 拽砖 注 转转 专住 拽,  砖注专 , 拽砖 转专 驻  专 住祝 专."
            },
            // --- 拽专 5: 专爪 注专转转 (ERP) ---
            {
                category: "专爪 注专转转 (ERP)",
                question: "  转  专转 爪注 转 'On-Invoice'  'Off-Invoice' 驻专专?",
                answers: [
                    { text: " , 砖转 拽转 转 专 转 .", isCorrect: false },
                    { text: "On-Invoice   砖专转 注 砖转, Off-Invoice 驻转 注 注' .", isCorrect: true },
                    { text: "On-Invoice 注转 拽转  -Off-Invoice 拽.", isCorrect: false },
                    { text: "On-Invoice 专砖转 砖专  -Off-Invoice .", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>   拽专转. 转 On-Invoice 专 转 专 爪专 专 砖转 住, 注 砖转 Off-Invoice  转转 注转转 砖驻转 专  爪注转 转   砖 注住拽 转驻拽."
            },
            {
                category: "专爪 注专转转 (ERP)",
                question: "注 爪注 驻专专 注 砖驻注 注  拽转 住驻转  住专 住驻?",
                answers: [
                    { text: "专拽 注 拽转 砖拽.", isCorrect: false },
                    { text: "转, , 住拽.", isCorrect: true },
                    { text: "砖 砖.", isCorrect: false },
                    { text: " 砖驻注 注 祝 拽 专转.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 注专转 ERP  专转. 爪注 专住  爪专 拽砖  爪驻,  砖砖驻注 注 转 爪专, 注 专转  住 注 注专 住 砖爪专 住驻拽 转 住专.   专 注 专 注专转转 专."
            },
            {
                category: "专爪 注专转转 (ERP)",
                question: " '砖转 转' (Data Integrity) 拽砖专 砖 注 注 驻专专?",
                answers: [
                    { text: " 砖转  注.", isCorrect: false },
                    { text: " 砖转  注专转 拽, 注拽 .", isCorrect: true },
                    { text: " 砖 注 砖 专砖转 转转.", isCorrect: false },
                    { text: "专抓 拽转 专住 注 注专转.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 砖转 转  注拽专 住住  注专转 注. 转驻拽, 专转   砖 爪注     砖转,  砖转 转 驻拽 注专转   砖拽驻 转 爪转."
            },
            {
                category: "专爪 注专转转 (ERP)",
                question: "爪 转驻拽 转专 转 住专转 住祝 砖/专注 砖 拽转 住驻?",
                answers: [
                    { text: "转驻拽  拽砖专 住专转 砖.", isCorrect: false },
                    { text: "注  驻 专   驻拽转  专 转 转拽驻.", isCorrect: true },
                    { text: "注  爪 驻砖  住专转 砖.", isCorrect: false },
                    { text: "注  转 转 专 .", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>  砖拽转 住驻 转 '住专' 转 转,  爪转 住转 砖 转拽驻 爪专转 转 专砖转. 驻 专 拽    拽专  驻砖专  注 注 住驻拽 转 住驻 拽 ."
            }
        ];
        
        // --- 住驻转 30 砖转 住驻转  注 -50 ---
        const additionalQuestions = [
            // Situational and Behavioral
            {
                category: "转专砖 拽转 转",
                question: "转 注转 砖注转转 砖  砖专 驻拽 砖专.  爪注 专砖 砖转注砖?",
                answers: [
                    { text: "拽转 砖祝   砖 .", isCorrect: false },
                    { text: "注 驻  转 /转 砖 转 拽转 住驻  转拽 转 注转.", isCorrect: true },
                    { text: "住转 转拽 转    砖 转 拽.", isCorrect: false },
                    { text: "拽 转  注专转.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 砖拽驻转 拽转 专转  拽专转. 砖 拽爪注转   ,  转 砖转 驻注 转拽. 住 住转专 转 注转 注 专 拽  转专."
            },
            {
                category: "转专砖 拽转 转",
                question: "转/ 爪/转 转转 抓 住专  专 驻 住祝 砖. 爪 转转注祝/ 转 砖转?",
                answers: [
                    { text: "驻 拽  拽 转专.", isCorrect: false },
                    { text: "转注祝 驻  住, 驻转 拽砖 , 专转 拽.", isCorrect: true },
                    { text: "注 驻 住专 注 砖 .", isCorrect: false },
                    { text: "拽砖 /转 转 转 -.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>   转注祝  转 驻转. 转砖 专 注 砖 专-转 砖转砖转 砖驻注 住驻转, 驻转 转驻注转 砖 专砖."
            },
            {
                category: "转专砖 拽转 转",
                question: " 住专 转  拽 注转  驻专砖转 住注祝 住.  转驻拽?",
                answers: [
                    { text: "专 爪.", isCorrect: false },
                    { text: "砖砖 专 拽爪注 砖专: 爪 转 转, 转 驻专砖转 拽转 砖, 转 砖转 砖  .", isCorrect: true },
                    { text: "注 转注专.", isCorrect: false },
                    { text: "驻转 转 注 '.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 转驻拽 转/ 专 拽 砖拽 转. 转驻拽   专注,  住驻拽 转  注 拽爪注 砖驻砖专  拽  砖转."
            },
            // More advanced concepts
             {
                category: "  转拽",
                question: " 转 'Chargeback' 拽砖专 砖 ?",
                answers: [
                    { text: " 专 砖 拽 专 砖转  .", isCorrect: false },
                    { text: "转 砖 专 砖 '转 专' 转 拽 注   转拽祝 砖爪注.", isCorrect: true },
                    { text: " 砖驻拽 注转.", isCorrect: false },
                    { text: " 注专 专转 住专.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> Chargeback   驻专 专砖 专 住祝 注   爪拽 砖拽 专 拽.  砖 拽专 转  ."
            },
             {
                category: "转 驻住",
                question: "爪 注 拽转 砖  砖驻注 注 转专  (Cash Flow) 砖 专?",
                answers: [
                    { text: "  砖驻注 砖专转.", isCorrect: false },
                    { text: "驻 专  转  砖 专 转 拽转 转砖  拽.", isCorrect: true },
                    { text: "专拽 驻拽转 砖转 砖驻注 注 转专 .", isCorrect: false },
                    { text: "注  砖转 转专转 转砖 拽转.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong>   驻转  住祝 '转拽注'. 驻转专 专 砖 ,   砖   转拽驻, 砖专专 转 住祝  驻砖专  专 转专,  砖砖驻专 转 转专 ."
            },
             {
                category: "转  -KPIs",
                question: " '拽爪' 拽砖专 砖 转 爪注?",
                answers: [
                    { text: "拽转 砖注专 转专.", isCorrect: false },
                    { text: "爪 砖 爪注 注 爪专 ' 驻注 专转 砖 爪专 ' 砖 转 专.", isCorrect: true },
                    { text: "注转 砖 .", isCorrect: false },
                    { text: "爪注 砖转专 注转拽.", isCorrect: false }
                ],
                explanation: "<strong>转砖 :</strong> 转 爪注 转拽   专拽 转 注 专转 爪专 砖爪注,   转 砖驻注 砖 注 砖专 爪专. 转 砖爪注 专 拽转 驻砖 祝 爪专 拽专 爪专  转专, 专  砖 专 驻注."
            },
        ];

        let allQuestions = [...questions, ...additionalQuestions];
        // --- 住祝 注 砖转  注 拽专 -50 ---
        const finalQuestions = [
            // More on Trade Spend
            {
                category: " 爪转 住专 (Trade Spend)",
                question: " 专转 -Post-Promotion Analysis?",
                answers: [
                    { text: " 砖 驻拽 .", isCorrect: false},
                    { text: "转 转 爪注 爪注 砖住转  驻拽 拽 爪注 注转.", isCorrect: true},
                    { text: "砖  转 拽.", isCorrect: false},
                    { text: "住专 转 砖 注专转.", isCorrect: false}
                ],
                explanation: "<strong>转砖 :</strong>  砖 拽专  爪转 住专. 转  转 -ROI, 砖驻注 注 专转, 专转, 拽爪 注,  砖专 转 砖拽注 转 转拽爪 爪专  转专 注转."
            },
            // More on Deductions
             {
                category: "  转拽",
                question: "拽   注 砖住专 注 驻.  拽 转驻  转 转 注?",
                answers: [
                    { text: "砖拽.", isCorrect: false},
                    { text: "注专 住拽 转 转.", isCorrect: true},
                    { text: "砖 砖.", isCorrect: false},
                    { text: " 住专 .", isCorrect: false}
                ],
                explanation: "<strong>转砖 :</strong>   注  住转. 拽专 , 专转  拽专 转 砖  专 专 砖专砖专转 住驻拽 (住拽, 住, 转)    转 爪拽转 驻 砖专 ."
            },
             // More on Financials
            {
                category: "转 驻住",
                question: "   '专 ' '专 转驻注' 爪 爪转 住专 砖驻注转 注?",
                answers: [
                    { text: " .", isCorrect: false},
                    { text: "爪转 住专 拽转 转 专  (拽 住转)  转 专 转驻注 (爪转 专).", isCorrect: true},
                    { text: "爪转 住专 砖驻注转 专拽 注 转专 .", isCorrect: false},
                    { text: "专   驻 住, 转驻注  专 住.", isCorrect: false}
                ],
                explanation: "<strong>转砖 :</strong>  砖   专 驻住  转专. 爪转 住专  爪转 专 砖拽,   拽转 转 专 转驻注.  住  转 转 爪转 驻转 住转,  砖驻注  注 专 ."
            },
            // More on ERP
            {
                category: "专爪 注专转转 (ERP)",
                question: "转 爪专 专 爪注 专 驻专专 注 转 专.  专 驻注  转专?",
                answers: [
                    { text: "专 转 专转 住 注 注专转.", isCorrect: false},
                    { text: "专 转 住转 住 ( 拽转), 爪注 拽转, 专拽  专 住转 爪专 (Production).", isCorrect: true},
                    { text: "拽砖 驻转 转 砖专 转.", isCorrect: false},
                    { text: "砖   专  砖注 专.", isCorrect: false}
                ],
                explanation: "<strong>转砖 :</strong> 注 专 拽专转  驻转 注转 注转 拽专转. 砖砖 住转 拽转 (Test Environment)  驻专拽拽 拽爪注转  转专 专转 专转."
            }
        ];
        allQuestions.push(...finalQuestions);
        allQuestions.push(
            ...[
                // Adding even more to get closer to 50
                {
                    category: " 爪转 住专 (Trade Spend)",
                    question: "  'Lump Sum' 住 住专?",
                    answers: [
                        { text: "住 转 专转", isCorrect: false },
                        { text: "住 拽注 住 专砖 驻注转 住转 (  祝)", isCorrect: true },
                        { text: "住  住专", isCorrect: false },
                        { text: " 转 ", isCorrect: false }
                    ],
                    explanation: "<strong>转砖 :</strong> Lump Sum  转砖 拽注 -驻注 ( 砖转) 砖 转 拽祝 专转.  驻抓 注专  祝, 砖转转驻转 驻专住 '."
                },
                {
                    category: "转  -KPIs",
                    question: " '驻拽 爪转' (Pantry Loading)  注转 转 爪转 爪注?",
                    answers: [
                        { text: "   注转.", isCorrect: false },
                        { text: " 专 拽转 拽转 转专 专 爪注.", isCorrect: false },
                        { text: " 专 注  专转  爪注,  专  专  拽转 '专' 住专.", isCorrect: true },
                        { text: " 专 住专 住专.", isCorrect: false }
                    ],
                    explanation: "<strong>转砖 :</strong> 转  砖 爪注 爪专 住转 注 转拽驻 专 转专, 驻 专. '驻拽 爪转' 专 砖爪注    转 住 专转 专 ,  专拽 拽 转."
                },
                {
                    category: "  转拽",
                    question: "拽转  拽   驻专  住转.  驻注 专砖 砖砖 注砖转?",
                    answers: [
                        { text: "砖专 转  注 注.", isCorrect: false },
                        { text: "转 转 转 注 住住 '住专 转注 住驻拽'.", isCorrect: true },
                        { text: "住转 砖 注  .", isCorrect: false },
                        { text: "转拽砖专 住 砖   注 砖.", isCorrect: false }
                    ],
                    explanation: "<strong>转砖 :</strong>   转 转拽转   注 拽.  砖专   转注 专专. 砖 转 转 驻 驻专 拽砖 拽 砖 转 砖 注  住转转 专砖转."
                },
                 {
                    category: "转 驻住",
                    question: " 砖注转 砖 转 转砖 '砖祝 + 30'?",
                    answers: [
                        { text: "砖 砖 转 30  转专 .", isCorrect: false },
                        { text: "转砖 转爪注 30  专 住祝 砖 砖 驻拽 砖转.", isCorrect: true },
                        { text: "转 砖 -30 转砖.", isCorrect: false },
                        { text: "拽 30%  注 转砖 .", isCorrect: false }
                    ],
                    explanation: "<strong>转砖 :</strong> 转 转 转砖 ( '转 砖专')  住住转 注  拽转. '砖驻'  '砖祝' 砖注 住祝 砖 ."
                },
                {
                    category: "专爪 注专转转 (ERP)",
                    question: " 住 拽 注  砖 专  驻专专?",
                    answers: [
                        { text: " 住, 注专转 .", isCorrect: false },
                        { text: "住  注转 拽 砖转 专 驻住 .", isCorrect: true },
                        { text: "住 砖注专转 转拽专住.", isCorrect: false },
                        { text: "住 砖转专  转 专.", isCorrect: false }
                    ],
                    explanation: "<strong>转砖 :</strong> 注  砖 转 专  拽专 注转. 转 拽爪注   砖转砖 砖拽 注转 转  ( 拽) 爪注 拽转 转 拽驻转 专  注."
                },
                {
                    category: "转专砖 拽转 转",
                    question: "转/ / 砖专 砖注/转 爪注 驻注 专转 注专转, 爪/转 驻砖.  转注砖/?",
                    answers: [
                        { text: "爪 驻砖  / 驻 拽专 专.", isCorrect: false },
                        { text: " 专 住专 (SOP), 专 注/转 住祝/转 , 砖专 驻专 拽砖专 专专.", isCorrect: true },
                        { text: " 转 驻砖.", isCorrect: false },
                        { text: " /转 砖 专转 爪 驻转专.", isCorrect: false }
                    ],
                    explanation: "<strong>转砖 :</strong> 转砖 专 注 专转, 砖 注专转转 转 专. 爪专转  砖转 注住拽转  住 专转 拽爪注转."
                },
            ]
        );
        allQuestions.push(...allQuestions.splice(0,18)); // Randomize a bit more for fun
        
        let currentQuestionIndex = 0;

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const endScreen = document.getElementById('end-screen');
        const categoryTitle = document.getElementById('category-title');
        const questionText = document.getElementById('question-text');
        const answersContainer = document.getElementById('answers-container');
        const feedbackArea = document.getElementById('feedback-area');
        const startButton = document.getElementById('start-button');
        const nextButton = document.getElementById('next-button');
        const restartButton = document.getElementById('restart-button');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        let shuffledQuestions = [];

        startButton.addEventListener('click', startGame);
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', restartGame);
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame() {
            startScreen.style.display = 'none';
            endScreen.style.display = 'none';
            quizScreen.style.display = 'block';
            currentQuestionIndex = 0;
            // Only shuffle once per game start
            shuffledQuestions = shuffleArray([...allQuestions]).slice(0, 50); // Ensure we have exactly 50 questions
            showQuestion();
        }

        function showQuestion() {
            resetState();
            if (currentQuestionIndex >= shuffledQuestions.length) {
                endGame();
                return;
            }

            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            categoryTitle.textContent = currentQuestion.category;
            questionText.textContent = currentQuestion.question;
            
            const shuffledAnswers = shuffleArray([...currentQuestion.answers]);

            shuffledAnswers.forEach(answer => {
                const button = document.createElement('button');
                button.innerHTML = answer.text;
                button.classList.add('answer-btn');
                if (answer.isCorrect) {
                    button.dataset.correct = true;
                }
                button.addEventListener('click', selectAnswer);
                answersContainer.appendChild(button);
            });
            updateProgress();
        }

        function resetState() {
            while (answersContainer.firstChild) {
                answersContainer.removeChild(answersContainer.firstChild);
            }
            feedbackArea.style.display = 'none';
            feedbackArea.classList.remove('correct-feedback', 'incorrect-feedback');
            nextButton.style.display = 'none';
        }

        function selectAnswer(e) {
            const selectedButton = e.currentTarget;
            const isCorrect = selectedButton.dataset.correct === 'true';

            feedbackArea.style.display = 'block';
            const explanation = shuffledQuestions[currentQuestionIndex].explanation;
            
            if (isCorrect) {
                selectedButton.classList.add('correct');
                feedbackArea.innerHTML = explanation;
                feedbackArea.classList.add('correct-feedback');
            } else {
                selectedButton.classList.add('incorrect');
                feedbackArea.innerHTML = explanation;
                feedbackArea.classList.add('incorrect-feedback');
                Array.from(answersContainer.children).forEach(button => {
                    if (button.dataset.correct === 'true') {
                        button.classList.add('correct');
                    }
                });
            }

            Array.from(answersContainer.children).forEach(button => {
                button.disabled = true;
            });

            nextButton.style.display = 'inline-block';
        }



        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }

        function updateProgress() {
            const totalQuestions = shuffledQuestions.length;
            const progressPercentage = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `砖 ${currentQuestionIndex + 1} 转 ${totalQuestions}`;
        }

        function endGame() {
            quizScreen.style.display = 'none';
            endScreen.style.display = 'block';
        }

        function restartGame() {
            startGame();
        }
    </script>
</body>
</html>

